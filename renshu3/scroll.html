<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css">

<style >#an{display: flex; background-color: #fff;}#an a{display: block; margin: 10px; border: solid 1px #ccc; padding: .5em 1em; }.fixed {
	position: fixed; top: 0; border: #ccc; background-color: rgb(255, 255, 255); opacity: 0.9;}
  #page_top{
  width: 50px;
  height: 50px;
  position: fixed;
  right: 0;
  bottom: 0;
  background: #3fefee;
  opacity: 0.6;
}
#page_top a{
  position: relative;
  display: block;
  width: 50px;
  height: 50px;
  text-decoration: none;
}
#page_top a::before{
  font-family: 'Font Awesome 5 Free';
  font-weight: 900;
  content: '\f106';
  font-size: 25px;
  color: #fff;
  position: absolute;
  width: 25px;
  height: 25px;
  top: 0;
  bottom: 0;
  right: 0;
  left: 0;
  margin: auto;
  text-align: center;
}
</style>
<div><i id="page_top" class="fas fa-angle-up"></i>
</div>

<nav id="an"></nav>

<div id="img_wrap">
  <!-- ここに画像が埋め込まれる -->
</div>

<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script>
	prt();

 function prt(){
    var elem = '';
    var nav = '';

    
    for( let i=0 ; i < 7 ; i++ ){
      elem += `<div class="row">
      	<h2 id="kuji-${i}"> ${i}</h2>
      	<img class="product" src="images/${i}.png">
      </div>` ;

      nav += `<a href="#kuji-${i}">${i}</a>`;
    
    }
    $('#img_wrap').html(elem);
    $('#an').html(nav);

    $('.product').css('width','200px');
 }
 $('a[href^="#"]').click(function(){
   var href= $(this).attr('href');
   var target= $(href);
   var position= target.offset().top;
 
   $('html,body').animate({scrollTop:position-60},300);
   
   return false;
 }) 

 $(function($) {
  
	var navi    = $('#an'),
   		offset = navi.offset();
  
	$(window).scroll(function () {
 		 if($(window).scrollTop() > offset.top) {
  		  navi.addClass('fixed');
 		 } else {
  		  navi.removeClass('fixed');
 		 }
	});
});

/*$(window).scroll(function(){
  var top = $(window).scrollTop();
  if (top > 100) {
    $('#an').css('position','fixed');
  } else{
    $('#an').css('position','static');
  }
});*/

$(function($) {
  var appear = false;
  var pagetop = $('#page_top');
  $(window).scroll(function () {
    if ($(this).scrollTop() > 100) {  //100pxスクロールしたら
      if (appear == false) {
        appear = true;
        pagetop.stop().animate({
          'bottom': '50px' //下から50pxの位置に
        }, 300); //0.3秒かけて現れる
      }
    } else {
      if (appear) {
        appear = false;
        pagetop.stop().animate({
          'bottom': '-50px' //下から-50pxの位置に
        }, 300); //0.3秒かけて隠れる
      }
    }
  });
  pagetop.click(function () {
    $('body, html').animate({ scrollTop: 0 }, 500); //0.5秒かけてトップへ戻る
    return false;
  });
});

 
  </script>